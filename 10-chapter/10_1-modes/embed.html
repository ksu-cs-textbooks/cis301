<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.128.0"><meta name=generator content="Relearn 6.0.0"><meta name=description content="Logika has different modes for programming logic verification. We can switch between modes by going to File->Settings->Tools->Sireum->Logika.
Logika’s “manual” mode Up to now, we have been running Logika in “manual mode”, where we list the following settings at the beginning of a file:
// #Sireum #Logika //@Logika: --manual --background save import org.sireum._ import org.sireum.justification._We are now reaching the point where additional practice in manual mode may no longer be a learning activity, and where the proof blocks after claim transformations can become dozens of lines long."><meta name=author content="Julie Thornton"><meta name=twitter:card content="summary"><meta name=twitter:title content="Logika Modes :: CIS 301 Textbook"><meta name=twitter:description content="Logika has different modes for programming logic verification. We can switch between modes by going to File->Settings->Tools->Sireum->Logika.
Logika’s “manual” mode Up to now, we have been running Logika in “manual mode”, where we list the following settings at the beginning of a file:
// #Sireum #Logika //@Logika: --manual --background save import org.sireum._ import org.sireum.justification._We are now reaching the point where additional practice in manual mode may no longer be a learning activity, and where the proof blocks after claim transformations can become dozens of lines long."><meta property="og:url" content="https://textbooks.cs.ksu.edu/cis301/10-chapter/10_1-modes/embed.html"><meta property="og:site_name" content="CIS 301 Textbook"><meta property="og:title" content="Logika Modes :: CIS 301 Textbook"><meta property="og:description" content="Logika has different modes for programming logic verification. We can switch between modes by going to File->Settings->Tools->Sireum->Logika.
Logika’s “manual” mode Up to now, we have been running Logika in “manual mode”, where we list the following settings at the beginning of a file:
// #Sireum #Logika //@Logika: --manual --background save import org.sireum._ import org.sireum.justification._We are now reaching the point where additional practice in manual mode may no longer be a learning activity, and where the proof blocks after claim transformations can become dozens of lines long."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="Sequences, Globals, and Termination"><meta property="article:published_time" content="2018-08-24T10:53:26-05:00"><meta property="article:modified_time" content="2024-04-30T15:33:09-05:00"><meta itemprop=name content="Logika Modes :: CIS 301 Textbook"><meta itemprop=description content="Logika has different modes for programming logic verification. We can switch between modes by going to File->Settings->Tools->Sireum->Logika.
Logika’s “manual” mode Up to now, we have been running Logika in “manual mode”, where we list the following settings at the beginning of a file:
// #Sireum #Logika //@Logika: --manual --background save import org.sireum._ import org.sireum.justification._We are now reaching the point where additional practice in manual mode may no longer be a learning activity, and where the proof blocks after claim transformations can become dozens of lines long."><meta itemprop=datePublished content="2018-08-24T10:53:26-05:00"><meta itemprop=dateModified content="2024-04-30T15:33:09-05:00"><meta itemprop=wordCount content="474"><title>Logika Modes :: CIS 301 Textbook</title>
<link href=https://textbooks.cs.ksu.edu/cis301/10-chapter/10_1-modes/ rel=canonical type=text/html title="Logika Modes :: CIS 301 Textbook"><link href=/cis301/10-chapter/10_1-modes/index.xml rel=alternate type=application/rss+xml title="Logika Modes :: CIS 301 Textbook"><link href=/cis301/10-chapter/10_1-modes/index.print.html rel=alternate type=text/html title="Logika Modes :: CIS 301 Textbook"><link href=/cis301/10-chapter/10_1-modes/tele.html rel=alternate type=text/html title="Logika Modes :: CIS 301 Textbook"><link href=/cis301/css/fontawesome-all.min.css?1723581892 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis301/css/fontawesome-all.min.css?1723581892 rel=stylesheet></noscript><link href=/cis301/css/nucleus.css?1723581892 rel=stylesheet><link href=/cis301/css/auto-complete.css?1723581892 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis301/css/auto-complete.css?1723581892 rel=stylesheet></noscript><link href=/cis301/css/perfect-scrollbar.min.css?1723581892 rel=stylesheet><link href=/cis301/css/fonts.css?1723581892 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis301/css/fonts.css?1723581892 rel=stylesheet></noscript><link href=/cis301/css/theme.css?1723581892 rel=stylesheet><link href=/cis301/css/theme-light-theme.css?1723581892 rel=stylesheet id=R-variant-style><link href=/cis301/css/chroma-relearn-light.css?1723581892 rel=stylesheet id=R-variant-chroma-style><link href=/cis301/css/variant.css?1723581892 rel=stylesheet><link href=/cis301/css/print.css?1723581892 rel=stylesheet media=print><script>window.relearn=window.relearn||{},window.relearn.relBasePath="../..",window.relearn.relBaseUri="../../..",window.relearn.absBaseUri="https://textbooks.cs.ksu.edu/cis301",window.index_js_url="/cis301/index.search.js",window.variants&&variants.init(["light-theme"]),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script><link href=/cis301/css/custom.css?1723581892 rel=stylesheet></head><body class="mobile-support embed disableInlineCopyToClipboard" data-url=/cis301/10-chapter/10_1-modes/embed.html><div id=R-body class=default-animation><div id=R-body-overlay></div><div id=R-main-overlay></div><main id=R-body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><p>Logika has different modes for programming logic verification. We can switch between modes by going to File->Settings->Tools->Sireum->Logika.</p><h2 id=logikas-manual-mode>Logika&rsquo;s &ldquo;manual&rdquo; mode</h2><p>Up to now, we have been running Logika in &ldquo;manual mode&rdquo;, where we list the following settings at the beginning of a file:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>// #Sireum #Logika
</span></span><span class=line><span class=cl>//@Logika: --manual --background save
</span></span><span class=line><span class=cl>import org.sireum._
</span></span><span class=line><span class=cl>import org.sireum.justification._</span></span></code></pre></div><p>We are now reaching the point where additional practice in manual mode may no longer be a learning activity, and where the proof blocks after claim transformations can become dozens of lines long.</p><h2 id=logikas-auto-mode>Logika&rsquo;s auto mode</h2><p>In Chapter 10, we will be switching to Logika&rsquo;s &ldquo;auto mode&rdquo;, where we remove the <code>--manual</code> from our file settings. We also no longer need the <code>org.sireum.justification._</code> library:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>// #Sireum #Logika
</span></span><span class=line><span class=cl>//@Logika: --background save
</span></span><span class=line><span class=cl>import org.sireum._</span></span></code></pre></div><p>Auto mode allows us to reason about our program by using ONLY invariants and function contracts. While the same work has to be done for a program to be verified (the precondition must be true before a function call, the loop invariant must be true before the loop begins, etc.), symexe mode does the work of analyzing your program statements to ensure that all parts of your loop invariant and function contract are satisfied. When you use symexe mode, you will only need to include a function contract for each function and a loop invariant block for each loop, and it will do the grunt work.</p><h3 id=multiplication-example>Multiplication example</h3><p>In section 9.3, we did a verification of a multiplication program using Logika&rsquo;s manual mode. Here is how we would write the verification of the same program using Logika&rsquo;s symexe mode:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>// #Sireum #Logika
</span></span><span class=line><span class=cl>//@Logika: --background save
</span></span><span class=line><span class=cl>import org.sireum._
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>def mult(m: Z, n: Z): Z = {
</span></span><span class=line><span class=cl>    Contract(
</span></span><span class=line><span class=cl>        Requires(m &gt;= 0 &amp; n &gt;= 0),  //precondition: y should be nonnegative
</span></span><span class=line><span class=cl>        Ensures(Res[Z] == m * n)    //postcondition (we promise to return x*y)
</span></span><span class=line><span class=cl>    )
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    var r: Z = 0
</span></span><span class=line><span class=cl>    var i: Z = 0
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    while (i != n) {
</span></span><span class=line><span class=cl>        Invariant(
</span></span><span class=line><span class=cl>            Modifies(r, i),
</span></span><span class=line><span class=cl>            r == m * i
</span></span><span class=line><span class=cl>        )
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        r = r + m
</span></span><span class=line><span class=cl>        i = i + 1
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    return r
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>//////////// Test code //////////////
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>var one: Z = 3
</span></span><span class=line><span class=cl>var two: Z = 4
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>var answer: Z = mult(one, two)
</span></span><span class=line><span class=cl>assert(answer == 12)</span></span></code></pre></div><p>Note that the only proof blocks we needed to provide were the function contract and the loop invariant block.</p><h3 id=pitfalls>Pitfalls</h3><p>When using this more advanced mode, it is not always obvious why Logika will not verify. Sometimes semantic errors in the program keep it from verifying; i.e. Logika has found a corner or edge case for which the program does not account. Other times the invariants and conditions do not actually help prove the goal in an assert or postcondition. Inevitably, sometimes it will be both.</p><p>In either case an option is to begin typing each proof-block as if in manual mode until you find the logical or programming error.</p><footer class=footline></footer></article></div></main></div><script src=/cis301/js/clipboard.min.js?1723581892 defer></script><script src=/cis301/js/perfect-scrollbar.min.js?1723581892 defer></script><script src=/cis301/js/theme.js?1723581892 defer></script><script src=/cis301/js/embed-iframe.js?1723581892 defer></script></body></html>