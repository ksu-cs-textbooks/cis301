




	
	
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.117.0">
    <meta name="generator" content="Relearn 5.18.0">
    <meta name="description" content="CIS 301: Logical Foundations of Programming">
    <meta name="author" content="Julie Thornton">
    <title>Logika Modes :: CIS 301 Textbook</title>
    <link href="https://ksu-cs-textbooks.github.io/cis301/10-chapter/10_1-modes/index.html" rel="canonical" type="text/html" title="Logika Modes :: CIS 301 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cis301/10-chapter/10_1-modes/index.xml" rel="alternate" type="application/rss+xml" title="Logika Modes :: CIS 301 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cis301/10-chapter/10_1-modes/index.print.html" rel="alternate" type="text/html" title="Logika Modes :: CIS 301 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cis301/10-chapter/10_1-modes/tele.html" rel="alternate" type="text/html" title="Logika Modes :: CIS 301 Textbook">
    
    <!-- https://github.com/filamentgroup/loadCSS/blob/master/README.md#how-to-use -->
    <link href="https://ksu-cs-textbooks.github.io/cis301/css/fontawesome-all.min.css?1697815739" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cis301/css/fontawesome-all.min.css?1697815739" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cis301/css/nucleus.css?1697815739" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis301/css/auto-complete.css?1697815739" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cis301/css/auto-complete.css?1697815739" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cis301/css/perfect-scrollbar.min.css?1697815739" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis301/css/fonts.css?1697815739" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cis301/css/fonts.css?1697815739" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cis301/css/theme.css?1697815739" rel="stylesheet">
    
    
    
    <link href="https://ksu-cs-textbooks.github.io/cis301/css/theme-light-theme.css?1697815739" rel="stylesheet" id="variant-style">
    <link href="https://ksu-cs-textbooks.github.io/cis301/css/variant.css?1697815739" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis301/css/print.css?1697815739" rel="stylesheet" media="print">
    <link href="https://ksu-cs-textbooks.github.io/cis301/css/ie.css?1697815739" rel="stylesheet">
    <script src="https://ksu-cs-textbooks.github.io/cis301/js/url.js?1697815739"></script>
    
    
    
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      window.index_js_url="https://ksu-cs-textbooks.github.io/cis301/index.search.js";
      var root_url="https://ksu-cs-textbooks.github.io/cis301/";
      var baseUri=root_url.replace(/\/$/, '');
      // translations
      window.T_Copy_to_clipboard = 'Copy to clipboard';
      window.T_Copied_to_clipboard = 'Copied to clipboard!';
      window.T_Copy_link_to_clipboard = 'Copy link to clipboard';
      window.T_Link_copied_to_clipboard = 'Copied link to clipboard!';
      window.T_No_results_found = 'No results found for \u0022{0}\u0022';
      window.T_N_results_found = '{1} results found for \u0022{0}\u0022';
      // some further base stuff
      var baseUriFull='https:\/\/ksu-cs-textbooks.github.io\/cis301/';
      window.variants && variants.init( [ 'light-theme', 'dark-theme' ] );
    </script>
    
    <link href="https://ksu-cs-textbooks.github.io/cis301/css/custom.css?1697815739" rel="stylesheet">

    
  </head>
  <body class="mobile-support embed disableInlineCopyToClipboard" data-url="https://ksu-cs-textbooks.github.io/cis301/10-chapter/10_1-modes/embed.html">
    <div id="body" class="default-animation">
      
      
      
      <main id="body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="default">
    
    
    
<p>Logika has different modes for programming logic verification. We can switch between modes by going to File-&gt;Settings-&gt;Tools-&gt;Sireum-&gt;Logika.</p>
<h2 id="logikas-manual-mode">Logika&rsquo;s &ldquo;manual&rdquo; mode</h2>
<p>Up to now, we have been running Logika in &ldquo;manual mode&rdquo;, which uses these Logika settings:</p>
<p>
<a href="#image-10f8864062a44ea9354a5810e710c824" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cis301/images/sireumManual.png" alt="manual mode" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-10f8864062a44ea9354a5810e710c824">
<img src="https://ksu-cs-textbooks.github.io/cis301/images/sireumManual.png" alt="manual mode" class="lightbox-image" loading="lazy">
</a></p>
<p>We are now reaching the point where additional practice in manual mode may no longer be a learning activity, and where the proof-blocks after claim transformations can become dozens of lines long.</p>
<h2 id="logikas-symexe-mode">Logika&rsquo;s SymExe mode</h2>
<p>In Chapter 10, we will be switching to Logika&rsquo;s &ldquo;symexe mode&rdquo;, which uses these Logika settings:</p>
<p>
<a href="#image-c0bdaac0108837377baa2abf2a701f11" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cis301/images/sireumSymexe.png" alt="symexe mode" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-c0bdaac0108837377baa2abf2a701f11">
<img src="https://ksu-cs-textbooks.github.io/cis301/images/sireumSymexe.png" alt="symexe mode" class="lightbox-image" loading="lazy">
</a></p>
<p>Symexe mode allows us to reason about our program by using ONLY invariants and function contracts. While the same work has to be done for a program to be verified (the precondition must be true before a function call, the loop invariant must be true before the loop begins, etc.), symexe mode does the work of analyzing your program statements to ensure that all parts of your loop invariant and function contract are satisified. When you use symexe mode, you will only need to include a function contract for each function and a loop invariant block for each loop, and it will do the grunt work.</p>
<h3 id="multiplication-example">Multiplication example</h3>
<p>In section 9.3, we did a verification of a multiplication a program using Logika&rsquo;s manual mode. Here is how we would write the verification of the same program using Logika&rsquo;s symexe mode:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>import org.sireum.logika._
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>def mult(x: Z, y: Z) : Z = {
</span></span><span style="display:flex;"><span>    //function contract
</span></span><span style="display:flex;"><span>    l&#34;&#34;&#34;{
</span></span><span style="display:flex;"><span>        requires y &gt;= 0         //precondition: y should be nonnegative
</span></span><span style="display:flex;"><span>        ensures result == x*y   //postcondition (we promise to return x*y)
</span></span><span style="display:flex;"><span>    }&#34;&#34;&#34;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    var sum: Z = 0
</span></span><span style="display:flex;"><span>    var count: Z = 0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    while (count != y) {
</span></span><span style="display:flex;"><span>        l&#34;&#34;&#34;{
</span></span><span style="display:flex;"><span>            invariant sum == count*x
</span></span><span style="display:flex;"><span>            modifies sum, count
</span></span><span style="display:flex;"><span>        }&#34;&#34;&#34;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        sum = sum + x
</span></span><span style="display:flex;"><span>        count = count + 1
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    return sum
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>//////////// Test code //////////////
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>var one: Z = 3
</span></span><span style="display:flex;"><span>var two: Z = 4
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>var answer: Z = mult(one, two)
</span></span><span style="display:flex;"><span>assert(answer == 12)</span></span></code></pre></div><p>Note that the only logic blocks we needed to provide were the function contract and the loop invariant block.</p>
<h3 id="pitfalls">Pitfalls</h3>
<p>When using this more advanced mode, it is not always obvious why Logika will not verify. Sometimes semantic errors in the program keep it from verifying; i.e. Logika has found a corner or edge case for which the program does not account. Other times the invariants and conditions do not actually help prove the goal in an assert or postcondition. Inevitably, sometimes it will be both.</p>
<p>In either case an option is to uncheck &ldquo;auto&rdquo; and begin typing each proof-block as if in manual mode (this can be done with Symexe enabled) until you find the logical or programming error.</p>

            <footer class="footline">

            </footer>
          </article>
        </div>
      </main>
    </div>
    
    
    
    <script src="https://ksu-cs-textbooks.github.io/cis301/js/clipboard.min.js?1697815739" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cis301/js/perfect-scrollbar.min.js?1697815739" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cis301/js/theme.js?1697815739" defer></script>
    
    <script src="https://ksu-cs-textbooks.github.io/cis301/js/embed-iframe.js?1697815739 defer"></script>
  </body>
</html>
