<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.101.0">
    <meta name="generator" content="Relearn 5.0.3+tip">




	
	
			

	
	
			

	
	
			
			
			

	
	
			

	
	
			
			

	
	
			
			

	
	
			
			
			

	
	
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			
			

	
	
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			
			

	
	
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			
			

	
	
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			
			

	
	
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			
			

	
	
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			
			

	
	
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			
			

	
	
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			
			

	
	
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

    <meta name="description" content="CIS 301: Logical Foundations of Programming">
    <meta name="author" content="Julie Thornton">
    <title>Assert and Assume :: CIS 301 Textbook</title>
    <link href="https://ksu-cs-textbooks.github.io/cis301/8-chapter/8_3-assertassume/" rel="canonical" type="text/html" title="CIS 301 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cis301/8-chapter/8_3-assertassume/index.xml" rel="alternate" type="application/rss+xml" title="CIS 301 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cis301/_print/8-chapter/8_3-assertassume/" rel="alternate" type="text/html" title="CIS 301 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cis301/8-chapter/8_3-assertassume/tele.html" rel="alternate" type="text/html" title="CIS 301 Textbook">
    
    <link href="https://ksu-cs-textbooks.github.io/cis301/css/fontawesome-all.min.css?1682348039" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;">
    <link href="https://ksu-cs-textbooks.github.io/cis301/css/featherlight.min.css?1682348039" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;">
    <link href="https://ksu-cs-textbooks.github.io/cis301/css/auto-complete.css?1682348039" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;">
    <noscript>
      <link href="https://ksu-cs-textbooks.github.io/cis301/css/fontawesome-all.min.css?1682348039" rel="stylesheet">
      <link href="https://ksu-cs-textbooks.github.io/cis301/css/featherlight.min.css?1682348039" rel="stylesheet">
      <link href="https://ksu-cs-textbooks.github.io/cis301/css/auto-complete.css?1682348039" rel="stylesheet">
    </noscript>
    <link href="https://ksu-cs-textbooks.github.io/cis301/css/perfect-scrollbar.min.css?1682348039" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis301/css/nucleus.css?1682348039" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis301/css/fonts.css?1682348039" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;">
    <link href="https://ksu-cs-textbooks.github.io/cis301/css/theme.css?1682348039" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis301/css/theme-light-theme.css?1682348039" rel="stylesheet" id="variant-style">
    <link href="https://ksu-cs-textbooks.github.io/cis301/css/ie.css?1682348039" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis301/css/variant.css?1682348039" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis301/css/print.css?1682348039" rel="stylesheet" media="print">
    <script src="https://ksu-cs-textbooks.github.io/cis301/js/variant.js?1682348039"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      var index_url="https://ksu-cs-textbooks.github.io/cis301/index.json";
      var root_url="https://ksu-cs-textbooks.github.io/cis301/";
      var baseUri=root_url.replace(/\/$/, '');
      // translations
      window.T_Copy_to_clipboard = 'Copy to clipboard';
      window.T_Copied_to_clipboard = 'Copied to clipboard!';
      window.T_Copy_link_to_clipboard = 'Copy link to clipboard';
      window.T_Link_copied_to_clipboard = 'Copied link to clipboard!';
      // some further base stuff
      var baseUriFull='https:\/\/ksu-cs-textbooks.github.io\/cis301/';
      variants.init( [ 'light-theme', 'dark-theme' ] );
    </script>
    
    <link href="https://ksu-cs-textbooks.github.io/cis301/css/custom.css?1682348039" rel="stylesheet">
    <script src="https://ksu-cs-textbooks.github.io/cis301/js/jquery.min.js?1682348039" defer></script>

  </head>
  <body class="mobile-support disableInlineCopyToClipboard" data-url="https://ksu-cs-textbooks.github.io/cis301/8-chapter/8_3-assertassume/embed.html">
    
    <div class="embed">
    
    <div id="body" class="default-animation">
      
      
      <main id="body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <div id="head-tags">
          </div>
          <article class="default">
    
    
<h2 id="assert-statements">Assert statements</h2>
<p>An <em>assert</em> statement in Logika uses the syntax <code>assert(expression)</code>, where <code>expression</code> is of type <code>bool</code>. The assert passes if the expression is true, and throws an error if the expression is false.</p>
<p>Logika assert statements are different than assert statements in languages like Java and C# &ndash; in those languages, the code in the assert statement (which often includes test method calls) is actually run, and the assert statement checks whether those methods are returning the expected values. In Logika, assert statements only pass if we have previously PROVED what we are claiming &ndash; the code is never executed.</p>
<h3 id="example">Example</h3>
<p>Consider the following program:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>import org.sireum.logika._
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>val x: Z = 6
</span></span><span style="display:flex;"><span>val y: Z = 6
</span></span><span style="display:flex;"><span>val z: Z = 4
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>assert (x == y &amp; y &gt; z)
</span></span></code></pre></div><p>While we can tell that <code>x</code> equals <code>y</code> and that <code>y</code> is greater than <code>z</code>, this code would fail in Logika (at least in its manual mode, which is what we are using now). In order for an assert to pass, we must have already proved EXACTLY the statement in the assert.</p>
<p>Why do WE know that <code>x</code> equals <code>y</code> and that <code>y</code> is greater than <code>z</code>? From looking at the code! We can tell that <code>x</code> and <code>y</code> are given the same value (6), and that <code>y</code>&rsquo;s value of 6 is bigger than <code>z</code>&rsquo;s value of 4.</p>
<p>So far, we know we can pull in the values of each variable as premises, like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>import org.sireum.logika._
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>val x: Z = 6
</span></span><span style="display:flex;"><span>val y: Z = 6
</span></span><span style="display:flex;"><span>val z: Z = 4
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>l&#34;&#34;&#34;{
</span></span><span style="display:flex;"><span>    1. x == 6           premise
</span></span><span style="display:flex;"><span>    2. y == 6           premise
</span></span><span style="display:flex;"><span>    3. z == 4           premise
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    //how to say that x and y are equal, and that y is bigger than z?
</span></span><span style="display:flex;"><span>}&#34;&#34;&#34;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>assert (x == y &amp; y &gt; z)
</span></span></code></pre></div><p>But we don&rsquo;t yet know how to justify claims that describe how variables compare to one another. We will learn how to do that with the <code>algebra</code> and <code>subst</code> rules in section 8.4.</p>
<h3 id="using-conditional-operators">Using conditional operators</h3>
<p>Notice that the program above used an <code>&amp;</code> symbol for an AND operator in an assert statement. Because asserts are part of the program and not part of a proof block, they will use the same conditional operators as in Logika programs. Here is a summary:</p>
<table>
<thead>
<tr>
<th>Meaning</th>
<th>Operator in proofs</th>
<th>Operator in Logika programs/assumes/asserts</th>
</tr>
</thead>
<tbody>
<tr>
<td>p AND q</td>
<td><code>p ∧ q</code></td>
<td><code>p &amp; q</code></td>
</tr>
<tr>
<td>p OR q</td>
<td><code>p ∨ q</code></td>
<td><code>p | q</code></td>
</tr>
<tr>
<td>NOT p</td>
<td><code>¬p</code></td>
<td><code>!p</code></td>
</tr>
<tr>
<td>p IMPLIES q</td>
<td><code>p → q</code></td>
<td>not available</td>
</tr>
</tbody>
</table>
<p>If we wanted to write an assert statement that would be true when some variable <code>p</code> was even and/or was a positive two-digit number, we could say:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>assert(p % 2 == 0 | (p &gt; 9 &amp; p &lt; 100))
</span></span></code></pre></div><p>The implies operator is not available in assert statements. However, we can make use of one of the equivalences we learned about in section 3.4: that <code>p → q</code> is equivalent to <code>¬ p ∨ q</code>. So if we wanted to assert that if <code>p</code> was positive, then <code>q</code> was equal to <code>p</code>, then we could write:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>//expressing the implicaton ((p &gt; 0) → (q == p))
</span></span><span style="display:flex;"><span>assert(!(p &gt; 0) | (q == p))
</span></span></code></pre></div><p>Or, equivalently, we could write:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>assert((p &lt;= 0) | (q == p))
</span></span></code></pre></div><h2 id="assume-statement">Assume statement</h2>
<p>An <em>assume</em> statement in Logika uses the syntax <code>assume(expression)</code>. If the expression is satisfiable, then we can use <code>expression</code> as a premise in the following Logika proof block.</p>
<h3 id="assume-example">Assume example</h3>
<p>For example:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>var a: Z = readInt()
</span></span><span style="display:flex;"><span>assume (a &gt; 0)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>l&#34;&#34;&#34;{
</span></span><span style="display:flex;"><span>    1. a &gt; 0            premise
</span></span><span style="display:flex;"><span>}&#34;&#34;&#34;
</span></span></code></pre></div><p>Assume statements are almost always used to make assumptions about user input. Perhaps our program only works correctly for certain values of input. If we can assume that the user really did enter acceptable values, then we can use that information (by pulling it in as a premise in the next logic block) to prove the correctness of the program based on that assumption.</p>
<h3 id="assumes-vs-wrapping-if-statements">Assumes vs. wrapping if-statements</h3>
<p>Toy programs often use assume in lieu of wrapping code in an if statement. The following two examples are equivalent:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>import org.sireum.logika._
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>var a : Z = readInt()
</span></span><span style="display:flex;"><span>assume (a != 0)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>l&#34;&#34;&#34;{
</span></span><span style="display:flex;"><span>    1. a != 0  premise
</span></span><span style="display:flex;"><span>}&#34;&#34;&#34;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>var b: Z = 20 / a
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>//...is equivalent to:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>import org.sireum.logika._
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>var a : Z = readInt()
</span></span><span style="display:flex;"><span>var b : Z = 0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>if (a != 0) {
</span></span><span style="display:flex;"><span>    b = 20 / a
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>These examples also demonstrate a requirement when we use the division operator in Logika programs, we must first demonstrate that we are not dividing by zero.</p>
<h3 id="unsatisfiable-assume">Unsatisfiable assume</h3>
<p>You will see an error in Logika if your assume statement is not satisfiable. For example:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>import org.sireum.logika._
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>var a: Z = readInt()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>assume(a &gt; 0)
</span></span><span style="display:flex;"><span>assume (a == 0)
</span></span></code></pre></div><p>If you try verifying this program, you will get a Logika error on the second <code>assume</code> statement. This is because we already assumed that <code>a</code> was greater than 0, and it is not possible for <code>a</code> to also be equal to 0.</p>

            <footer class="footline">
            </footer>
          </article>

        </div>
      </main>
    
    
    </div>
    
  </div>
    
    
    
    <script src="https://ksu-cs-textbooks.github.io/cis301/js/clipboard.min.js?1682348039" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cis301/js/perfect-scrollbar.min.js?1682348039" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cis301/js/featherlight.min.js?1682348039" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cis301/js/theme.js?1682348039" defer></script>
    
    <script src="https://ksu-cs-textbooks.github.io/cis301/js/embed-iframe.js?1682348039 defer"></script>
    
    
    
  </body>
</html>
